{% extends 'base.html' %}
{% block title %}📝 My Tasks{% endblock %}

{% block body %}
<style>
    /* 🌟 تأثير Hover للتاسك */
    .list-group-item {
        transition: all 0.25s ease-in-out;
        border-radius: 10px;
    }

    .list-group-item:hover {
        background-color: #f8f9fa;
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    /* 💫 تأثير للأزرار */
    .btn-outline-primary:hover {
        background-color: #0d6efd;
        color: #fff !important;
        transform: scale(1.05);
    }

    .btn-outline-danger:hover {
        background-color: #dc3545;
        color: #fff !important;
        transform: scale(1.05);
    }

    .btn-success:hover {
        background-color: #198754;
        transform: scale(1.05);
    }

    /* 💡 تأثير للرابط داخل التاسك */
    .task-title a {
        transition: color 0.25s ease-in-out;
    }

    .task-title a:hover {
        color: #0d6efd;
        text-decoration: underline;
    }

    /* 🪶 تنعيم بسيط للـ header */
    header {
        border-radius: 10px;
    }
</style>

<header class="d-flex justify-content-between align-items-center bg-light p-3 rounded shadow-sm mb-4">
    <h2 class="fw-bold text-dark m-0">📝 My Tasks</h2>
    <a href="{% url 'logout' %}" class="btn btn-danger fw-semibold px-3">Logout</a>
</header>

<div class="container">
    {% if tasks %}
        <ul class="list-group">
            {% for task in tasks %}
                <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm mb-2">
                    <div class="task-title">
                        {% if task.completed %}
                            ✅ <a href="{% url 'tasks:task_detail' task.id %}" class="text-decoration-none text-muted">
                                <del>{{ task.title }}</del>
                            </a>
                        {% else %}
                            <a href="{% url 'tasks:task_detail' task.id %}" class="text-decoration-none text-dark">
                                {{ task.title }}
                            </a>
                        {% endif %}
                    </div>

                    <div class="task-actions">
                        {% if task.completed %}
                            <span class="badge bg-success me-2">Done</span>
                        {% else %}
                            <span class="badge bg-warning text-dark me-2">Pending</span>
                        {% endif %}

                        <a href="{% url 'tasks:task_update' task.id %}" class="btn btn-sm btn-outline-primary me-1">Edit</a>
                        <a href="{% url 'tasks:task_delete' task.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-center text-muted mt-4">😴 No tasks yet — <a href="{% url 'tasks:task_create' %}" class="text-warning fw-semibold">add your first one!</a></p>
    {% endif %}

    <div class="text-center mt-4">
        <a href="{% url 'tasks:task_create' %}" class="btn btn-success px-4 fw-semibold">➕ Add New Task</a>
    </div>
</div>
{% endblock %}
